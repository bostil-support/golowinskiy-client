<div id="fon-image">
    <app-header></app-header>

    <div class="showMessage" *ngIf="showSpinner">
        <i class="fa fa-spinner fa-spin"></i>
    </div>
    <div class="showMessageTxt" *ngIf="message.text">
        <div
            class="alert alert-{{message.type}}"
        >
            {{ message.text }}
        </div>
    </div>

    <div class="breadcrumbs_container" *ngIf="!showSpinner">
      <app-breadcrumbs (click)="breadcrumbsClick()" [categories]="categories"></app-breadcrumbs>
    </div>


    <div class="products_list">

        <div class="products_list__item" *ngFor="let product of Gallery | paginate: {itemsPerPage: itemsPerPage, currentPage: currentPage}"
        [id]="product.prc_ID">
            <div class="products_list__item--main">
                <img (click)="detail(product)" src="{{ apiRoot + 'Img?AppCode=' + product.appCode + '&ImgFileName=' + product.image_Base }}" alt="">
            </div>
            <div class="products_list__item--footer">
                <h4 (click)="detail(product)">{{ product.tName }}</h4>
                <div class="price">
                    <p *ngIf="product.prc_Br">{{ product.prc_Br }}</p>
                    <div *ngIf="showBasket" (click)="addToCart(product)" class="add_cart">
                        <span>В корзину</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <pagination-template class="pagination_list" #p="paginationApi" (pageChange)="currentPage = $event" *ngIf="!showSpinner">
      <div class="pagination_list__item" [class.disabled]="p.isFirstPage()">Предыдущая</div>
      <div class="pagination_list__item" [class.current] = "p.getCurrent() === page.value" *ngFor="let page of p.pages" (click)="p.setCurrent(page.value)">
        {{page.label}}
      </div>
      <div class="pagination_list__item" [class.disabled]="p.isLastPage()">Следующая</div>
    </pagination-template>

    <router-outlet></router-outlet>

    <app-footer></app-footer>
</div>
